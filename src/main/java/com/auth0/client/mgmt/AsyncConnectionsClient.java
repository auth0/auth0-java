/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.auth0.client.mgmt;

import com.auth0.client.mgmt.connections.AsyncClientsClient;
import com.auth0.client.mgmt.connections.AsyncDirectoryProvisioningClient;
import com.auth0.client.mgmt.connections.AsyncKeysClient;
import com.auth0.client.mgmt.connections.AsyncScimConfigurationClient;
import com.auth0.client.mgmt.connections.AsyncUsersClient;
import com.auth0.client.mgmt.core.ClientOptions;
import com.auth0.client.mgmt.core.RequestOptions;
import com.auth0.client.mgmt.core.Suppliers;
import com.auth0.client.mgmt.core.SyncPagingIterable;
import com.auth0.client.mgmt.types.ConnectionForList;
import com.auth0.client.mgmt.types.CreateConnectionRequestContent;
import com.auth0.client.mgmt.types.CreateConnectionResponseContent;
import com.auth0.client.mgmt.types.GetConnectionRequestParameters;
import com.auth0.client.mgmt.types.GetConnectionResponseContent;
import com.auth0.client.mgmt.types.ListConnectionsQueryParameters;
import com.auth0.client.mgmt.types.UpdateConnectionRequestContent;
import com.auth0.client.mgmt.types.UpdateConnectionResponseContent;
import java.util.concurrent.CompletableFuture;
import java.util.function.Supplier;

public class AsyncConnectionsClient {
    protected final ClientOptions clientOptions;

    private final AsyncRawConnectionsClient rawClient;

    protected final Supplier<AsyncDirectoryProvisioningClient> directoryProvisioningClient;

    protected final Supplier<AsyncClientsClient> clientsClient;

    protected final Supplier<AsyncKeysClient> keysClient;

    protected final Supplier<AsyncScimConfigurationClient> scimConfigurationClient;

    protected final Supplier<AsyncUsersClient> usersClient;

    public AsyncConnectionsClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new AsyncRawConnectionsClient(clientOptions);
        this.directoryProvisioningClient = Suppliers.memoize(() -> new AsyncDirectoryProvisioningClient(clientOptions));
        this.clientsClient = Suppliers.memoize(() -> new AsyncClientsClient(clientOptions));
        this.keysClient = Suppliers.memoize(() -> new AsyncKeysClient(clientOptions));
        this.scimConfigurationClient = Suppliers.memoize(() -> new AsyncScimConfigurationClient(clientOptions));
        this.usersClient = Suppliers.memoize(() -> new AsyncUsersClient(clientOptions));
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public AsyncRawConnectionsClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * Retrieves detailed list of all &lt;a href=&quot;https://auth0.com/docs/authenticate/identity-providers&quot;&gt;connections&lt;/a&gt; that match the specified strategy. If no strategy is provided, all connections within your tenant are retrieved. This action can accept a list of fields to include or exclude from the resulting list of connections.
     * <p>This endpoint supports two types of pagination:</p>
     * <p>&lt;ul&gt;
     * &lt;li&gt;Offset pagination&lt;/li&gt;
     * &lt;li&gt;Checkpoint pagination&lt;/li&gt;
     * &lt;/ul&gt;</p>
     * <p>Checkpoint pagination must be used if you need to retrieve more than 1000 connections.</p>
     * <p>&lt;h2&gt;Checkpoint Pagination&lt;/h2&gt;</p>
     * <p>To search by checkpoint, use the following parameters:</p>
     * <p>&lt;ul&gt;
     * &lt;li&gt;&lt;code&gt;from&lt;/code&gt;: Optional id from which to start selection.&lt;/li&gt;
     * &lt;li&gt;&lt;code&gt;take&lt;/code&gt;: The total amount of entries to retrieve when using the from parameter. Defaults to 50.&lt;/li&gt;
     * &lt;/ul&gt;</p>
     * <p>&lt;b&gt;Note&lt;/b&gt;: The first time you call this endpoint using checkpoint pagination, omit the &lt;code&gt;from&lt;/code&gt; parameter. If there are more results, a &lt;code&gt;next&lt;/code&gt; value is included in the response. You can use this for subsequent API calls. When &lt;code&gt;next&lt;/code&gt; is no longer included in the response, no pages are remaining.</p>
     */
    public CompletableFuture<SyncPagingIterable<ConnectionForList>> list() {
        return this.rawClient.list().thenApply(response -> response.body());
    }

    /**
     * Retrieves detailed list of all &lt;a href=&quot;https://auth0.com/docs/authenticate/identity-providers&quot;&gt;connections&lt;/a&gt; that match the specified strategy. If no strategy is provided, all connections within your tenant are retrieved. This action can accept a list of fields to include or exclude from the resulting list of connections.
     * <p>This endpoint supports two types of pagination:</p>
     * <p>&lt;ul&gt;
     * &lt;li&gt;Offset pagination&lt;/li&gt;
     * &lt;li&gt;Checkpoint pagination&lt;/li&gt;
     * &lt;/ul&gt;</p>
     * <p>Checkpoint pagination must be used if you need to retrieve more than 1000 connections.</p>
     * <p>&lt;h2&gt;Checkpoint Pagination&lt;/h2&gt;</p>
     * <p>To search by checkpoint, use the following parameters:</p>
     * <p>&lt;ul&gt;
     * &lt;li&gt;&lt;code&gt;from&lt;/code&gt;: Optional id from which to start selection.&lt;/li&gt;
     * &lt;li&gt;&lt;code&gt;take&lt;/code&gt;: The total amount of entries to retrieve when using the from parameter. Defaults to 50.&lt;/li&gt;
     * &lt;/ul&gt;</p>
     * <p>&lt;b&gt;Note&lt;/b&gt;: The first time you call this endpoint using checkpoint pagination, omit the &lt;code&gt;from&lt;/code&gt; parameter. If there are more results, a &lt;code&gt;next&lt;/code&gt; value is included in the response. You can use this for subsequent API calls. When &lt;code&gt;next&lt;/code&gt; is no longer included in the response, no pages are remaining.</p>
     */
    public CompletableFuture<SyncPagingIterable<ConnectionForList>> list(ListConnectionsQueryParameters request) {
        return this.rawClient.list(request).thenApply(response -> response.body());
    }

    /**
     * Retrieves detailed list of all &lt;a href=&quot;https://auth0.com/docs/authenticate/identity-providers&quot;&gt;connections&lt;/a&gt; that match the specified strategy. If no strategy is provided, all connections within your tenant are retrieved. This action can accept a list of fields to include or exclude from the resulting list of connections.
     * <p>This endpoint supports two types of pagination:</p>
     * <p>&lt;ul&gt;
     * &lt;li&gt;Offset pagination&lt;/li&gt;
     * &lt;li&gt;Checkpoint pagination&lt;/li&gt;
     * &lt;/ul&gt;</p>
     * <p>Checkpoint pagination must be used if you need to retrieve more than 1000 connections.</p>
     * <p>&lt;h2&gt;Checkpoint Pagination&lt;/h2&gt;</p>
     * <p>To search by checkpoint, use the following parameters:</p>
     * <p>&lt;ul&gt;
     * &lt;li&gt;&lt;code&gt;from&lt;/code&gt;: Optional id from which to start selection.&lt;/li&gt;
     * &lt;li&gt;&lt;code&gt;take&lt;/code&gt;: The total amount of entries to retrieve when using the from parameter. Defaults to 50.&lt;/li&gt;
     * &lt;/ul&gt;</p>
     * <p>&lt;b&gt;Note&lt;/b&gt;: The first time you call this endpoint using checkpoint pagination, omit the &lt;code&gt;from&lt;/code&gt; parameter. If there are more results, a &lt;code&gt;next&lt;/code&gt; value is included in the response. You can use this for subsequent API calls. When &lt;code&gt;next&lt;/code&gt; is no longer included in the response, no pages are remaining.</p>
     */
    public CompletableFuture<SyncPagingIterable<ConnectionForList>> list(
            ListConnectionsQueryParameters request, RequestOptions requestOptions) {
        return this.rawClient.list(request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Creates a new connection according to the JSON object received in &lt;code&gt;body&lt;/code&gt;.
     * <p>&lt;b&gt;Note:&lt;/b&gt; If a connection with the same name was recently deleted and had a large number of associated users, the deletion may still be processing. Creating a new connection with that name before the deletion completes may fail or produce unexpected results.</p>
     */
    public CompletableFuture<CreateConnectionResponseContent> create(CreateConnectionRequestContent request) {
        return this.rawClient.create(request).thenApply(response -> response.body());
    }

    /**
     * Creates a new connection according to the JSON object received in &lt;code&gt;body&lt;/code&gt;.
     * <p>&lt;b&gt;Note:&lt;/b&gt; If a connection with the same name was recently deleted and had a large number of associated users, the deletion may still be processing. Creating a new connection with that name before the deletion completes may fail or produce unexpected results.</p>
     */
    public CompletableFuture<CreateConnectionResponseContent> create(
            CreateConnectionRequestContent request, RequestOptions requestOptions) {
        return this.rawClient.create(request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Retrieve details for a specified &lt;a href=&quot;https://auth0.com/docs/authenticate/identity-providers&quot;&gt;connection&lt;/a&gt; along with options that can be used for identity provider configuration.
     */
    public CompletableFuture<GetConnectionResponseContent> get(String id) {
        return this.rawClient.get(id).thenApply(response -> response.body());
    }

    /**
     * Retrieve details for a specified &lt;a href=&quot;https://auth0.com/docs/authenticate/identity-providers&quot;&gt;connection&lt;/a&gt; along with options that can be used for identity provider configuration.
     */
    public CompletableFuture<GetConnectionResponseContent> get(String id, GetConnectionRequestParameters request) {
        return this.rawClient.get(id, request).thenApply(response -> response.body());
    }

    /**
     * Retrieve details for a specified &lt;a href=&quot;https://auth0.com/docs/authenticate/identity-providers&quot;&gt;connection&lt;/a&gt; along with options that can be used for identity provider configuration.
     */
    public CompletableFuture<GetConnectionResponseContent> get(
            String id, GetConnectionRequestParameters request, RequestOptions requestOptions) {
        return this.rawClient.get(id, request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Removes a specific &lt;a href=&quot;https://auth0.com/docs/authenticate/identity-providers&quot;&gt;connection&lt;/a&gt; from your tenant. This action cannot be undone. Once removed, users can no longer use this connection to authenticate.
     * <p>&lt;b&gt;Note:&lt;/b&gt; If your connection has a large amount of users associated with it, please be aware that this operation can be long running after the response is returned and may impact concurrent &lt;a href=&quot;https://auth0.com/docs/api/management/v2/connections/post-connections&quot;&gt;create connection&lt;/a&gt; requests, if they use an identical connection name.</p>
     */
    public CompletableFuture<Void> delete(String id) {
        return this.rawClient.delete(id).thenApply(response -> response.body());
    }

    /**
     * Removes a specific &lt;a href=&quot;https://auth0.com/docs/authenticate/identity-providers&quot;&gt;connection&lt;/a&gt; from your tenant. This action cannot be undone. Once removed, users can no longer use this connection to authenticate.
     * <p>&lt;b&gt;Note:&lt;/b&gt; If your connection has a large amount of users associated with it, please be aware that this operation can be long running after the response is returned and may impact concurrent &lt;a href=&quot;https://auth0.com/docs/api/management/v2/connections/post-connections&quot;&gt;create connection&lt;/a&gt; requests, if they use an identical connection name.</p>
     */
    public CompletableFuture<Void> delete(String id, RequestOptions requestOptions) {
        return this.rawClient.delete(id, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Update details for a specific &lt;a href=&quot;https://auth0.com/docs/authenticate/identity-providers&quot;&gt;connection&lt;/a&gt;, including option properties for identity provider configuration.
     * <p>&lt;b&gt;Note&lt;/b&gt;: If you use the &lt;code&gt;options&lt;/code&gt; parameter, the entire &lt;code&gt;options&lt;/code&gt; object is overriden. To avoid partial data or other issues, ensure all parameters are present when using this option.</p>
     */
    public CompletableFuture<UpdateConnectionResponseContent> update(String id) {
        return this.rawClient.update(id).thenApply(response -> response.body());
    }

    /**
     * Update details for a specific &lt;a href=&quot;https://auth0.com/docs/authenticate/identity-providers&quot;&gt;connection&lt;/a&gt;, including option properties for identity provider configuration.
     * <p>&lt;b&gt;Note&lt;/b&gt;: If you use the &lt;code&gt;options&lt;/code&gt; parameter, the entire &lt;code&gt;options&lt;/code&gt; object is overriden. To avoid partial data or other issues, ensure all parameters are present when using this option.</p>
     */
    public CompletableFuture<UpdateConnectionResponseContent> update(
            String id, UpdateConnectionRequestContent request) {
        return this.rawClient.update(id, request).thenApply(response -> response.body());
    }

    /**
     * Update details for a specific &lt;a href=&quot;https://auth0.com/docs/authenticate/identity-providers&quot;&gt;connection&lt;/a&gt;, including option properties for identity provider configuration.
     * <p>&lt;b&gt;Note&lt;/b&gt;: If you use the &lt;code&gt;options&lt;/code&gt; parameter, the entire &lt;code&gt;options&lt;/code&gt; object is overriden. To avoid partial data or other issues, ensure all parameters are present when using this option.</p>
     */
    public CompletableFuture<UpdateConnectionResponseContent> update(
            String id, UpdateConnectionRequestContent request, RequestOptions requestOptions) {
        return this.rawClient.update(id, request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Retrieves the status of an ad/ldap connection referenced by its &lt;code&gt;ID&lt;/code&gt;. &lt;code&gt;200 OK&lt;/code&gt; http status code response is returned  when the connection is online, otherwise a &lt;code&gt;404&lt;/code&gt; status code is returned along with an error message
     */
    public CompletableFuture<Void> checkStatus(String id) {
        return this.rawClient.checkStatus(id).thenApply(response -> response.body());
    }

    /**
     * Retrieves the status of an ad/ldap connection referenced by its &lt;code&gt;ID&lt;/code&gt;. &lt;code&gt;200 OK&lt;/code&gt; http status code response is returned  when the connection is online, otherwise a &lt;code&gt;404&lt;/code&gt; status code is returned along with an error message
     */
    public CompletableFuture<Void> checkStatus(String id, RequestOptions requestOptions) {
        return this.rawClient.checkStatus(id, requestOptions).thenApply(response -> response.body());
    }

    public AsyncDirectoryProvisioningClient directoryProvisioning() {
        return this.directoryProvisioningClient.get();
    }

    public AsyncClientsClient clients() {
        return this.clientsClient.get();
    }

    public AsyncKeysClient keys() {
        return this.keysClient.get();
    }

    public AsyncScimConfigurationClient scimConfiguration() {
        return this.scimConfigurationClient.get();
    }

    public AsyncUsersClient users() {
        return this.usersClient.get();
    }
}
