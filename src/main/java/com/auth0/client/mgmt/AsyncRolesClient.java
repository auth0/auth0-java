/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.auth0.client.mgmt;

import com.auth0.client.mgmt.core.ClientOptions;
import com.auth0.client.mgmt.core.RequestOptions;
import com.auth0.client.mgmt.core.Suppliers;
import com.auth0.client.mgmt.core.SyncPagingIterable;
import com.auth0.client.mgmt.roles.AsyncPermissionsClient;
import com.auth0.client.mgmt.roles.AsyncUsersClient;
import com.auth0.client.mgmt.types.CreateRoleRequestContent;
import com.auth0.client.mgmt.types.CreateRoleResponseContent;
import com.auth0.client.mgmt.types.GetRoleResponseContent;
import com.auth0.client.mgmt.types.ListRolesRequestParameters;
import com.auth0.client.mgmt.types.Role;
import com.auth0.client.mgmt.types.UpdateRoleRequestContent;
import com.auth0.client.mgmt.types.UpdateRoleResponseContent;
import java.util.concurrent.CompletableFuture;
import java.util.function.Supplier;

public class AsyncRolesClient {
    protected final ClientOptions clientOptions;

    private final AsyncRawRolesClient rawClient;

    protected final Supplier<AsyncPermissionsClient> permissionsClient;

    protected final Supplier<AsyncUsersClient> usersClient;

    public AsyncRolesClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new AsyncRawRolesClient(clientOptions);
        this.permissionsClient = Suppliers.memoize(() -> new AsyncPermissionsClient(clientOptions));
        this.usersClient = Suppliers.memoize(() -> new AsyncUsersClient(clientOptions));
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public AsyncRawRolesClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * Retrieve detailed list of user roles created in your tenant.
     * <p><b>Note</b>: The returned list does not include standard roles available for tenant members, such as Admin or Support Access.</p>
     */
    public CompletableFuture<SyncPagingIterable<Role>> list() {
        return this.rawClient.list().thenApply(response -> response.body());
    }

    /**
     * Retrieve detailed list of user roles created in your tenant.
     * <p><b>Note</b>: The returned list does not include standard roles available for tenant members, such as Admin or Support Access.</p>
     */
    public CompletableFuture<SyncPagingIterable<Role>> list(RequestOptions requestOptions) {
        return this.rawClient.list(requestOptions).thenApply(response -> response.body());
    }

    /**
     * Retrieve detailed list of user roles created in your tenant.
     * <p><b>Note</b>: The returned list does not include standard roles available for tenant members, such as Admin or Support Access.</p>
     */
    public CompletableFuture<SyncPagingIterable<Role>> list(ListRolesRequestParameters request) {
        return this.rawClient.list(request).thenApply(response -> response.body());
    }

    /**
     * Retrieve detailed list of user roles created in your tenant.
     * <p><b>Note</b>: The returned list does not include standard roles available for tenant members, such as Admin or Support Access.</p>
     */
    public CompletableFuture<SyncPagingIterable<Role>> list(
            ListRolesRequestParameters request, RequestOptions requestOptions) {
        return this.rawClient.list(request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Create a user role for <a href="https://auth0.com/docs/manage-users/access-control/rbac">Role-Based Access Control</a>.
     * <p><b>Note</b>: New roles are not associated with any permissions by default. To assign existing permissions to your role, review Associate Permissions with a Role. To create new permissions, review Add API Permissions.</p>
     */
    public CompletableFuture<CreateRoleResponseContent> create(CreateRoleRequestContent request) {
        return this.rawClient.create(request).thenApply(response -> response.body());
    }

    /**
     * Create a user role for <a href="https://auth0.com/docs/manage-users/access-control/rbac">Role-Based Access Control</a>.
     * <p><b>Note</b>: New roles are not associated with any permissions by default. To assign existing permissions to your role, review Associate Permissions with a Role. To create new permissions, review Add API Permissions.</p>
     */
    public CompletableFuture<CreateRoleResponseContent> create(
            CreateRoleRequestContent request, RequestOptions requestOptions) {
        return this.rawClient.create(request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Retrieve details about a specific <a href="https://auth0.com/docs/manage-users/access-control/rbac">user role</a> specified by ID.
     */
    public CompletableFuture<GetRoleResponseContent> get(String id) {
        return this.rawClient.get(id).thenApply(response -> response.body());
    }

    /**
     * Retrieve details about a specific <a href="https://auth0.com/docs/manage-users/access-control/rbac">user role</a> specified by ID.
     */
    public CompletableFuture<GetRoleResponseContent> get(String id, RequestOptions requestOptions) {
        return this.rawClient.get(id, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Delete a specific <a href="https://auth0.com/docs/manage-users/access-control/rbac">user role</a> from your tenant. Once deleted, it is removed from any user who was previously assigned that role. This action cannot be undone.
     */
    public CompletableFuture<Void> delete(String id) {
        return this.rawClient.delete(id).thenApply(response -> response.body());
    }

    /**
     * Delete a specific <a href="https://auth0.com/docs/manage-users/access-control/rbac">user role</a> from your tenant. Once deleted, it is removed from any user who was previously assigned that role. This action cannot be undone.
     */
    public CompletableFuture<Void> delete(String id, RequestOptions requestOptions) {
        return this.rawClient.delete(id, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Modify the details of a specific <a href="https://auth0.com/docs/manage-users/access-control/rbac">user role</a> specified by ID.
     */
    public CompletableFuture<UpdateRoleResponseContent> update(String id) {
        return this.rawClient.update(id).thenApply(response -> response.body());
    }

    /**
     * Modify the details of a specific <a href="https://auth0.com/docs/manage-users/access-control/rbac">user role</a> specified by ID.
     */
    public CompletableFuture<UpdateRoleResponseContent> update(String id, RequestOptions requestOptions) {
        return this.rawClient.update(id, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Modify the details of a specific <a href="https://auth0.com/docs/manage-users/access-control/rbac">user role</a> specified by ID.
     */
    public CompletableFuture<UpdateRoleResponseContent> update(String id, UpdateRoleRequestContent request) {
        return this.rawClient.update(id, request).thenApply(response -> response.body());
    }

    /**
     * Modify the details of a specific <a href="https://auth0.com/docs/manage-users/access-control/rbac">user role</a> specified by ID.
     */
    public CompletableFuture<UpdateRoleResponseContent> update(
            String id, UpdateRoleRequestContent request, RequestOptions requestOptions) {
        return this.rawClient.update(id, request, requestOptions).thenApply(response -> response.body());
    }

    public AsyncPermissionsClient permissions() {
        return this.permissionsClient.get();
    }

    public AsyncUsersClient users() {
        return this.usersClient.get();
    }
}
