/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.auth0.client.mgmt;

import com.auth0.client.mgmt.core.ClientOptions;
import com.auth0.client.mgmt.core.RequestOptions;
import com.auth0.client.mgmt.core.Suppliers;
import com.auth0.client.mgmt.jobs.ErrorsClient;
import com.auth0.client.mgmt.jobs.UsersExportsClient;
import com.auth0.client.mgmt.jobs.UsersImportsClient;
import com.auth0.client.mgmt.jobs.VerificationEmailClient;
import com.auth0.client.mgmt.types.GetJobResponseContent;
import java.util.function.Supplier;

public class JobsClient {
    protected final ClientOptions clientOptions;

    private final RawJobsClient rawClient;

    protected final Supplier<UsersExportsClient> usersExportsClient;

    protected final Supplier<UsersImportsClient> usersImportsClient;

    protected final Supplier<VerificationEmailClient> verificationEmailClient;

    protected final Supplier<ErrorsClient> errorsClient;

    public JobsClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new RawJobsClient(clientOptions);
        this.usersExportsClient = Suppliers.memoize(() -> new UsersExportsClient(clientOptions));
        this.usersImportsClient = Suppliers.memoize(() -> new UsersImportsClient(clientOptions));
        this.verificationEmailClient = Suppliers.memoize(() -> new VerificationEmailClient(clientOptions));
        this.errorsClient = Suppliers.memoize(() -> new ErrorsClient(clientOptions));
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public RawJobsClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * Retrieves a job. Useful to check its status.
     */
    public GetJobResponseContent get(String id) {
        return this.rawClient.get(id).body();
    }

    /**
     * Retrieves a job. Useful to check its status.
     */
    public GetJobResponseContent get(String id, RequestOptions requestOptions) {
        return this.rawClient.get(id, requestOptions).body();
    }

    public UsersExportsClient usersExports() {
        return this.usersExportsClient.get();
    }

    public UsersImportsClient usersImports() {
        return this.usersImportsClient.get();
    }

    public VerificationEmailClient verificationEmail() {
        return this.verificationEmailClient.get();
    }

    public ErrorsClient errors() {
        return this.errorsClient.get();
    }
}
