/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.auth0.client.mgmt;

import com.auth0.client.mgmt.core.ClientOptions;
import com.auth0.client.mgmt.core.RequestOptions;
import com.auth0.client.mgmt.core.Suppliers;
import com.auth0.client.mgmt.core.SyncPagingIterable;
import com.auth0.client.mgmt.roles.PermissionsClient;
import com.auth0.client.mgmt.roles.UsersClient;
import com.auth0.client.mgmt.types.CreateRoleRequestContent;
import com.auth0.client.mgmt.types.CreateRoleResponseContent;
import com.auth0.client.mgmt.types.GetRoleResponseContent;
import com.auth0.client.mgmt.types.ListRolesRequestParameters;
import com.auth0.client.mgmt.types.Role;
import com.auth0.client.mgmt.types.UpdateRoleRequestContent;
import com.auth0.client.mgmt.types.UpdateRoleResponseContent;
import java.util.function.Supplier;

public class RolesClient {
    protected final ClientOptions clientOptions;

    private final RawRolesClient rawClient;

    protected final Supplier<PermissionsClient> permissionsClient;

    protected final Supplier<UsersClient> usersClient;

    public RolesClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new RawRolesClient(clientOptions);
        this.permissionsClient = Suppliers.memoize(() -> new PermissionsClient(clientOptions));
        this.usersClient = Suppliers.memoize(() -> new UsersClient(clientOptions));
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public RawRolesClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * Retrieve detailed list of user roles created in your tenant.
     * <p>&lt;b&gt;Note&lt;/b&gt;: The returned list does not include standard roles available for tenant members, such as Admin or Support Access.</p>
     */
    public SyncPagingIterable<Role> list() {
        return this.rawClient.list().body();
    }

    /**
     * Retrieve detailed list of user roles created in your tenant.
     * <p>&lt;b&gt;Note&lt;/b&gt;: The returned list does not include standard roles available for tenant members, such as Admin or Support Access.</p>
     */
    public SyncPagingIterable<Role> list(ListRolesRequestParameters request) {
        return this.rawClient.list(request).body();
    }

    /**
     * Retrieve detailed list of user roles created in your tenant.
     * <p>&lt;b&gt;Note&lt;/b&gt;: The returned list does not include standard roles available for tenant members, such as Admin or Support Access.</p>
     */
    public SyncPagingIterable<Role> list(ListRolesRequestParameters request, RequestOptions requestOptions) {
        return this.rawClient.list(request, requestOptions).body();
    }

    /**
     * Create a user role for &lt;a href=&quot;https://auth0.com/docs/manage-users/access-control/rbac&quot;&gt;Role-Based Access Control&lt;/a&gt;.
     * <p>&lt;b&gt;Note&lt;/b&gt;: New roles are not associated with any permissions by default. To assign existing permissions to your role, review Associate Permissions with a Role. To create new permissions, review Add API Permissions.</p>
     */
    public CreateRoleResponseContent create(CreateRoleRequestContent request) {
        return this.rawClient.create(request).body();
    }

    /**
     * Create a user role for &lt;a href=&quot;https://auth0.com/docs/manage-users/access-control/rbac&quot;&gt;Role-Based Access Control&lt;/a&gt;.
     * <p>&lt;b&gt;Note&lt;/b&gt;: New roles are not associated with any permissions by default. To assign existing permissions to your role, review Associate Permissions with a Role. To create new permissions, review Add API Permissions.</p>
     */
    public CreateRoleResponseContent create(CreateRoleRequestContent request, RequestOptions requestOptions) {
        return this.rawClient.create(request, requestOptions).body();
    }

    /**
     * Retrieve details about a specific &lt;a href=&quot;https://auth0.com/docs/manage-users/access-control/rbac&quot;&gt;user role&lt;/a&gt; specified by ID.
     */
    public GetRoleResponseContent get(String id) {
        return this.rawClient.get(id).body();
    }

    /**
     * Retrieve details about a specific &lt;a href=&quot;https://auth0.com/docs/manage-users/access-control/rbac&quot;&gt;user role&lt;/a&gt; specified by ID.
     */
    public GetRoleResponseContent get(String id, RequestOptions requestOptions) {
        return this.rawClient.get(id, requestOptions).body();
    }

    /**
     * Delete a specific &lt;a href=&quot;https://auth0.com/docs/manage-users/access-control/rbac&quot;&gt;user role&lt;/a&gt; from your tenant. Once deleted, it is removed from any user who was previously assigned that role. This action cannot be undone.
     */
    public void delete(String id) {
        this.rawClient.delete(id).body();
    }

    /**
     * Delete a specific &lt;a href=&quot;https://auth0.com/docs/manage-users/access-control/rbac&quot;&gt;user role&lt;/a&gt; from your tenant. Once deleted, it is removed from any user who was previously assigned that role. This action cannot be undone.
     */
    public void delete(String id, RequestOptions requestOptions) {
        this.rawClient.delete(id, requestOptions).body();
    }

    /**
     * Modify the details of a specific &lt;a href=&quot;https://auth0.com/docs/manage-users/access-control/rbac&quot;&gt;user role&lt;/a&gt; specified by ID.
     */
    public UpdateRoleResponseContent update(String id) {
        return this.rawClient.update(id).body();
    }

    /**
     * Modify the details of a specific &lt;a href=&quot;https://auth0.com/docs/manage-users/access-control/rbac&quot;&gt;user role&lt;/a&gt; specified by ID.
     */
    public UpdateRoleResponseContent update(String id, UpdateRoleRequestContent request) {
        return this.rawClient.update(id, request).body();
    }

    /**
     * Modify the details of a specific &lt;a href=&quot;https://auth0.com/docs/manage-users/access-control/rbac&quot;&gt;user role&lt;/a&gt; specified by ID.
     */
    public UpdateRoleResponseContent update(
            String id, UpdateRoleRequestContent request, RequestOptions requestOptions) {
        return this.rawClient.update(id, request, requestOptions).body();
    }

    public PermissionsClient permissions() {
        return this.permissionsClient.get();
    }

    public UsersClient users() {
        return this.usersClient.get();
    }
}
