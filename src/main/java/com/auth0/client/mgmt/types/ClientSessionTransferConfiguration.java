/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.auth0.client.mgmt.types;

import com.auth0.client.mgmt.core.ObjectMappers;
import com.fasterxml.jackson.annotation.JsonAnyGetter;
import com.fasterxml.jackson.annotation.JsonAnySetter;
import com.fasterxml.jackson.annotation.JsonIgnoreProperties;
import com.fasterxml.jackson.annotation.JsonInclude;
import com.fasterxml.jackson.annotation.JsonProperty;
import com.fasterxml.jackson.annotation.JsonSetter;
import com.fasterxml.jackson.annotation.Nulls;
import com.fasterxml.jackson.databind.annotation.JsonDeserialize;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.Objects;
import java.util.Optional;

@JsonInclude(JsonInclude.Include.NON_ABSENT)
@JsonDeserialize(builder = ClientSessionTransferConfiguration.Builder.class)
public final class ClientSessionTransferConfiguration {
    private final Optional<Boolean> canCreateSessionTransferToken;

    private final Optional<Boolean> enforceCascadeRevocation;

    private final Optional<List<ClientSessionTransferAllowedAuthenticationMethodsEnum>> allowedAuthenticationMethods;

    private final Optional<ClientSessionTransferDeviceBindingEnum> enforceDeviceBinding;

    private final Optional<Boolean> allowRefreshToken;

    private final Optional<Boolean> enforceOnlineRefreshTokens;

    private final Map<String, Object> additionalProperties;

    private ClientSessionTransferConfiguration(
            Optional<Boolean> canCreateSessionTransferToken,
            Optional<Boolean> enforceCascadeRevocation,
            Optional<List<ClientSessionTransferAllowedAuthenticationMethodsEnum>> allowedAuthenticationMethods,
            Optional<ClientSessionTransferDeviceBindingEnum> enforceDeviceBinding,
            Optional<Boolean> allowRefreshToken,
            Optional<Boolean> enforceOnlineRefreshTokens,
            Map<String, Object> additionalProperties) {
        this.canCreateSessionTransferToken = canCreateSessionTransferToken;
        this.enforceCascadeRevocation = enforceCascadeRevocation;
        this.allowedAuthenticationMethods = allowedAuthenticationMethods;
        this.enforceDeviceBinding = enforceDeviceBinding;
        this.allowRefreshToken = allowRefreshToken;
        this.enforceOnlineRefreshTokens = enforceOnlineRefreshTokens;
        this.additionalProperties = additionalProperties;
    }

    /**
     * @return Indicates whether an app can issue a Session Transfer Token through Token Exchange. If set to 'false', the app will not be able to issue a Session Transfer Token. Usually configured in the native application. Default value is <code>false</code>.
     */
    @JsonProperty("can_create_session_transfer_token")
    public Optional<Boolean> getCanCreateSessionTransferToken() {
        return canCreateSessionTransferToken;
    }

    /**
     * @return Indicates whether revoking the parent Refresh Token that initiated a Native to Web flow and was used to issue a Session Transfer Token should trigger a cascade revocation affecting its dependent child entities. Usually configured in the native application. Default value is <code>true</code>, applicable only in Native to Web SSO context.
     */
    @JsonProperty("enforce_cascade_revocation")
    public Optional<Boolean> getEnforceCascadeRevocation() {
        return enforceCascadeRevocation;
    }

    /**
     * @return Indicates whether an app can create a session from a Session Transfer Token received via indicated methods. Can include <code>cookie</code> and/or <code>query</code>. Usually configured in the web application. Default value is an empty array [].
     */
    @JsonProperty("allowed_authentication_methods")
    public Optional<List<ClientSessionTransferAllowedAuthenticationMethodsEnum>> getAllowedAuthenticationMethods() {
        return allowedAuthenticationMethods;
    }

    @JsonProperty("enforce_device_binding")
    public Optional<ClientSessionTransferDeviceBindingEnum> getEnforceDeviceBinding() {
        return enforceDeviceBinding;
    }

    /**
     * @return Indicates whether Refresh Tokens are allowed to be issued when authenticating with a Session Transfer Token. Usually configured in the web application. Default value is <code>false</code>.
     */
    @JsonProperty("allow_refresh_token")
    public Optional<Boolean> getAllowRefreshToken() {
        return allowRefreshToken;
    }

    /**
     * @return Indicates whether Refresh Tokens created during a Native to Web session are tied to that session's lifetime. This determines if such refresh tokens should be automatically revoked when their corresponding sessions are. Usually configured in the web application. Default value is <code>true</code>, applicable only in Native to Web SSO context.
     */
    @JsonProperty("enforce_online_refresh_tokens")
    public Optional<Boolean> getEnforceOnlineRefreshTokens() {
        return enforceOnlineRefreshTokens;
    }

    @java.lang.Override
    public boolean equals(Object other) {
        if (this == other) return true;
        return other instanceof ClientSessionTransferConfiguration
                && equalTo((ClientSessionTransferConfiguration) other);
    }

    @JsonAnyGetter
    public Map<String, Object> getAdditionalProperties() {
        return this.additionalProperties;
    }

    private boolean equalTo(ClientSessionTransferConfiguration other) {
        return canCreateSessionTransferToken.equals(other.canCreateSessionTransferToken)
                && enforceCascadeRevocation.equals(other.enforceCascadeRevocation)
                && allowedAuthenticationMethods.equals(other.allowedAuthenticationMethods)
                && enforceDeviceBinding.equals(other.enforceDeviceBinding)
                && allowRefreshToken.equals(other.allowRefreshToken)
                && enforceOnlineRefreshTokens.equals(other.enforceOnlineRefreshTokens);
    }

    @java.lang.Override
    public int hashCode() {
        return Objects.hash(
                this.canCreateSessionTransferToken,
                this.enforceCascadeRevocation,
                this.allowedAuthenticationMethods,
                this.enforceDeviceBinding,
                this.allowRefreshToken,
                this.enforceOnlineRefreshTokens);
    }

    @java.lang.Override
    public String toString() {
        return ObjectMappers.stringify(this);
    }

    public static Builder builder() {
        return new Builder();
    }

    @JsonIgnoreProperties(ignoreUnknown = true)
    public static final class Builder {
        private Optional<Boolean> canCreateSessionTransferToken = Optional.empty();

        private Optional<Boolean> enforceCascadeRevocation = Optional.empty();

        private Optional<List<ClientSessionTransferAllowedAuthenticationMethodsEnum>> allowedAuthenticationMethods =
                Optional.empty();

        private Optional<ClientSessionTransferDeviceBindingEnum> enforceDeviceBinding = Optional.empty();

        private Optional<Boolean> allowRefreshToken = Optional.empty();

        private Optional<Boolean> enforceOnlineRefreshTokens = Optional.empty();

        @JsonAnySetter
        private Map<String, Object> additionalProperties = new HashMap<>();

        private Builder() {}

        public Builder from(ClientSessionTransferConfiguration other) {
            canCreateSessionTransferToken(other.getCanCreateSessionTransferToken());
            enforceCascadeRevocation(other.getEnforceCascadeRevocation());
            allowedAuthenticationMethods(other.getAllowedAuthenticationMethods());
            enforceDeviceBinding(other.getEnforceDeviceBinding());
            allowRefreshToken(other.getAllowRefreshToken());
            enforceOnlineRefreshTokens(other.getEnforceOnlineRefreshTokens());
            return this;
        }

        /**
         * <p>Indicates whether an app can issue a Session Transfer Token through Token Exchange. If set to 'false', the app will not be able to issue a Session Transfer Token. Usually configured in the native application. Default value is <code>false</code>.</p>
         */
        @JsonSetter(value = "can_create_session_transfer_token", nulls = Nulls.SKIP)
        public Builder canCreateSessionTransferToken(Optional<Boolean> canCreateSessionTransferToken) {
            this.canCreateSessionTransferToken = canCreateSessionTransferToken;
            return this;
        }

        public Builder canCreateSessionTransferToken(Boolean canCreateSessionTransferToken) {
            this.canCreateSessionTransferToken = Optional.ofNullable(canCreateSessionTransferToken);
            return this;
        }

        /**
         * <p>Indicates whether revoking the parent Refresh Token that initiated a Native to Web flow and was used to issue a Session Transfer Token should trigger a cascade revocation affecting its dependent child entities. Usually configured in the native application. Default value is <code>true</code>, applicable only in Native to Web SSO context.</p>
         */
        @JsonSetter(value = "enforce_cascade_revocation", nulls = Nulls.SKIP)
        public Builder enforceCascadeRevocation(Optional<Boolean> enforceCascadeRevocation) {
            this.enforceCascadeRevocation = enforceCascadeRevocation;
            return this;
        }

        public Builder enforceCascadeRevocation(Boolean enforceCascadeRevocation) {
            this.enforceCascadeRevocation = Optional.ofNullable(enforceCascadeRevocation);
            return this;
        }

        /**
         * <p>Indicates whether an app can create a session from a Session Transfer Token received via indicated methods. Can include <code>cookie</code> and/or <code>query</code>. Usually configured in the web application. Default value is an empty array [].</p>
         */
        @JsonSetter(value = "allowed_authentication_methods", nulls = Nulls.SKIP)
        public Builder allowedAuthenticationMethods(
                Optional<List<ClientSessionTransferAllowedAuthenticationMethodsEnum>> allowedAuthenticationMethods) {
            this.allowedAuthenticationMethods = allowedAuthenticationMethods;
            return this;
        }

        public Builder allowedAuthenticationMethods(
                List<ClientSessionTransferAllowedAuthenticationMethodsEnum> allowedAuthenticationMethods) {
            this.allowedAuthenticationMethods = Optional.ofNullable(allowedAuthenticationMethods);
            return this;
        }

        @JsonSetter(value = "enforce_device_binding", nulls = Nulls.SKIP)
        public Builder enforceDeviceBinding(Optional<ClientSessionTransferDeviceBindingEnum> enforceDeviceBinding) {
            this.enforceDeviceBinding = enforceDeviceBinding;
            return this;
        }

        public Builder enforceDeviceBinding(ClientSessionTransferDeviceBindingEnum enforceDeviceBinding) {
            this.enforceDeviceBinding = Optional.ofNullable(enforceDeviceBinding);
            return this;
        }

        /**
         * <p>Indicates whether Refresh Tokens are allowed to be issued when authenticating with a Session Transfer Token. Usually configured in the web application. Default value is <code>false</code>.</p>
         */
        @JsonSetter(value = "allow_refresh_token", nulls = Nulls.SKIP)
        public Builder allowRefreshToken(Optional<Boolean> allowRefreshToken) {
            this.allowRefreshToken = allowRefreshToken;
            return this;
        }

        public Builder allowRefreshToken(Boolean allowRefreshToken) {
            this.allowRefreshToken = Optional.ofNullable(allowRefreshToken);
            return this;
        }

        /**
         * <p>Indicates whether Refresh Tokens created during a Native to Web session are tied to that session's lifetime. This determines if such refresh tokens should be automatically revoked when their corresponding sessions are. Usually configured in the web application. Default value is <code>true</code>, applicable only in Native to Web SSO context.</p>
         */
        @JsonSetter(value = "enforce_online_refresh_tokens", nulls = Nulls.SKIP)
        public Builder enforceOnlineRefreshTokens(Optional<Boolean> enforceOnlineRefreshTokens) {
            this.enforceOnlineRefreshTokens = enforceOnlineRefreshTokens;
            return this;
        }

        public Builder enforceOnlineRefreshTokens(Boolean enforceOnlineRefreshTokens) {
            this.enforceOnlineRefreshTokens = Optional.ofNullable(enforceOnlineRefreshTokens);
            return this;
        }

        public ClientSessionTransferConfiguration build() {
            return new ClientSessionTransferConfiguration(
                    canCreateSessionTransferToken,
                    enforceCascadeRevocation,
                    allowedAuthenticationMethods,
                    enforceDeviceBinding,
                    allowRefreshToken,
                    enforceOnlineRefreshTokens,
                    additionalProperties);
        }

        public Builder additionalProperty(String key, Object value) {
            this.additionalProperties.put(key, value);
            return this;
        }

        public Builder additionalProperties(Map<String, Object> additionalProperties) {
            this.additionalProperties.putAll(additionalProperties);
            return this;
        }
    }
}
