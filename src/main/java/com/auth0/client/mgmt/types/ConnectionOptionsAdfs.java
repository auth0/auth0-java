/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.auth0.client.mgmt.types;

import com.auth0.client.mgmt.core.NullableNonemptyFilter;
import com.auth0.client.mgmt.core.ObjectMappers;
import com.auth0.client.mgmt.core.OptionalNullable;
import com.fasterxml.jackson.annotation.JsonAnyGetter;
import com.fasterxml.jackson.annotation.JsonAnySetter;
import com.fasterxml.jackson.annotation.JsonIgnoreProperties;
import com.fasterxml.jackson.annotation.JsonInclude;
import com.fasterxml.jackson.annotation.JsonProperty;
import com.fasterxml.jackson.annotation.JsonSetter;
import com.fasterxml.jackson.annotation.Nulls;
import com.fasterxml.jackson.databind.annotation.JsonDeserialize;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.Objects;
import java.util.Optional;
import org.jetbrains.annotations.Nullable;

@JsonInclude(JsonInclude.Include.NON_ABSENT)
@JsonDeserialize(builder = ConnectionOptionsAdfs.Builder.class)
public final class ConnectionOptionsAdfs implements IConnectionOptionsCommon {
    private final Optional<List<String>> nonPersistentAttrs;

    private final Optional<String> adfsServer;

    private final Optional<List<String>> domainAliases;

    private final Optional<String> entityId;

    private final Optional<String> fedMetadataXml;

    private final Optional<String> iconUrl;

    private final Optional<List<String>> prevThumbprints;

    private final Optional<ConnectionSetUserRootAttributesEnum> setUserRootAttributes;

    private final Optional<ConnectionShouldTrustEmailVerifiedConnectionEnum> shouldTrustEmailVerifiedConnection;

    private final Optional<String> signInEndpoint;

    private final Optional<String> tenantDomain;

    private final Optional<List<String>> thumbprints;

    private final OptionalNullable<Map<String, OptionalNullable<ConnectionUpstreamAdditionalProperties>>>
            upstreamParams;

    private final Optional<String> userIdAttribute;

    private final Map<String, Object> additionalProperties;

    private ConnectionOptionsAdfs(
            Optional<List<String>> nonPersistentAttrs,
            Optional<String> adfsServer,
            Optional<List<String>> domainAliases,
            Optional<String> entityId,
            Optional<String> fedMetadataXml,
            Optional<String> iconUrl,
            Optional<List<String>> prevThumbprints,
            Optional<ConnectionSetUserRootAttributesEnum> setUserRootAttributes,
            Optional<ConnectionShouldTrustEmailVerifiedConnectionEnum> shouldTrustEmailVerifiedConnection,
            Optional<String> signInEndpoint,
            Optional<String> tenantDomain,
            Optional<List<String>> thumbprints,
            OptionalNullable<Map<String, OptionalNullable<ConnectionUpstreamAdditionalProperties>>> upstreamParams,
            Optional<String> userIdAttribute,
            Map<String, Object> additionalProperties) {
        this.nonPersistentAttrs = nonPersistentAttrs;
        this.adfsServer = adfsServer;
        this.domainAliases = domainAliases;
        this.entityId = entityId;
        this.fedMetadataXml = fedMetadataXml;
        this.iconUrl = iconUrl;
        this.prevThumbprints = prevThumbprints;
        this.setUserRootAttributes = setUserRootAttributes;
        this.shouldTrustEmailVerifiedConnection = shouldTrustEmailVerifiedConnection;
        this.signInEndpoint = signInEndpoint;
        this.tenantDomain = tenantDomain;
        this.thumbprints = thumbprints;
        this.upstreamParams = upstreamParams;
        this.userIdAttribute = userIdAttribute;
        this.additionalProperties = additionalProperties;
    }

    @JsonProperty("non_persistent_attrs")
    @java.lang.Override
    public Optional<List<String>> getNonPersistentAttrs() {
        return nonPersistentAttrs;
    }

    /**
     * @return ADFS federation metadata host or XML URL used to discover WS-Fed endpoints and certificates. Errors if adfs_server and fedMetadataXml are both absent.
     */
    @JsonProperty("adfs_server")
    public Optional<String> getAdfsServer() {
        return adfsServer;
    }

    @JsonProperty("domain_aliases")
    public Optional<List<String>> getDomainAliases() {
        return domainAliases;
    }

    /**
     * @return The entity identifier (Issuer) for the ADFS Service Provider. When not provided, defaults to 'urn:auth0:{tenant}:{connection}'.
     */
    @JsonProperty("entityId")
    public Optional<String> getEntityId() {
        return entityId;
    }

    @JsonProperty("fedMetadataXml")
    public Optional<String> getFedMetadataXml() {
        return fedMetadataXml;
    }

    @JsonProperty("icon_url")
    public Optional<String> getIconUrl() {
        return iconUrl;
    }

    @JsonProperty("prev_thumbprints")
    public Optional<List<String>> getPrevThumbprints() {
        return prevThumbprints;
    }

    @JsonProperty("set_user_root_attributes")
    public Optional<ConnectionSetUserRootAttributesEnum> getSetUserRootAttributes() {
        return setUserRootAttributes;
    }

    @JsonProperty("should_trust_email_verified_connection")
    public Optional<ConnectionShouldTrustEmailVerifiedConnectionEnum> getShouldTrustEmailVerifiedConnection() {
        return shouldTrustEmailVerifiedConnection;
    }

    @JsonProperty("signInEndpoint")
    public Optional<String> getSignInEndpoint() {
        return signInEndpoint;
    }

    @JsonProperty("tenant_domain")
    public Optional<String> getTenantDomain() {
        return tenantDomain;
    }

    @JsonProperty("thumbprints")
    public Optional<List<String>> getThumbprints() {
        return thumbprints;
    }

    @JsonInclude(value = JsonInclude.Include.CUSTOM, valueFilter = NullableNonemptyFilter.class)
    @JsonProperty("upstream_params")
    public OptionalNullable<Map<String, OptionalNullable<ConnectionUpstreamAdditionalProperties>>> getUpstreamParams() {
        if (upstreamParams == null) {
            return OptionalNullable.absent();
        }
        return upstreamParams;
    }

    /**
     * @return Custom ADFS claim to use as the unique user identifier. When provided, this attribute is prepended to the default user_id mapping list with highest priority. Accepts a string (single ADFS claim name).
     */
    @JsonProperty("user_id_attribute")
    public Optional<String> getUserIdAttribute() {
        return userIdAttribute;
    }

    @JsonInclude(value = JsonInclude.Include.CUSTOM, valueFilter = NullableNonemptyFilter.class)
    @JsonProperty("upstream_params")
    private OptionalNullable<Map<String, OptionalNullable<ConnectionUpstreamAdditionalProperties>>>
            _getUpstreamParams() {
        return upstreamParams;
    }

    @java.lang.Override
    public boolean equals(Object other) {
        if (this == other) return true;
        return other instanceof ConnectionOptionsAdfs && equalTo((ConnectionOptionsAdfs) other);
    }

    @JsonAnyGetter
    public Map<String, Object> getAdditionalProperties() {
        return this.additionalProperties;
    }

    private boolean equalTo(ConnectionOptionsAdfs other) {
        return nonPersistentAttrs.equals(other.nonPersistentAttrs)
                && adfsServer.equals(other.adfsServer)
                && domainAliases.equals(other.domainAliases)
                && entityId.equals(other.entityId)
                && fedMetadataXml.equals(other.fedMetadataXml)
                && iconUrl.equals(other.iconUrl)
                && prevThumbprints.equals(other.prevThumbprints)
                && setUserRootAttributes.equals(other.setUserRootAttributes)
                && shouldTrustEmailVerifiedConnection.equals(other.shouldTrustEmailVerifiedConnection)
                && signInEndpoint.equals(other.signInEndpoint)
                && tenantDomain.equals(other.tenantDomain)
                && thumbprints.equals(other.thumbprints)
                && upstreamParams.equals(other.upstreamParams)
                && userIdAttribute.equals(other.userIdAttribute);
    }

    @java.lang.Override
    public int hashCode() {
        return Objects.hash(
                this.nonPersistentAttrs,
                this.adfsServer,
                this.domainAliases,
                this.entityId,
                this.fedMetadataXml,
                this.iconUrl,
                this.prevThumbprints,
                this.setUserRootAttributes,
                this.shouldTrustEmailVerifiedConnection,
                this.signInEndpoint,
                this.tenantDomain,
                this.thumbprints,
                this.upstreamParams,
                this.userIdAttribute);
    }

    @java.lang.Override
    public String toString() {
        return ObjectMappers.stringify(this);
    }

    public static Builder builder() {
        return new Builder();
    }

    @JsonIgnoreProperties(ignoreUnknown = true)
    public static final class Builder {
        private Optional<List<String>> nonPersistentAttrs = Optional.empty();

        private Optional<String> adfsServer = Optional.empty();

        private Optional<List<String>> domainAliases = Optional.empty();

        private Optional<String> entityId = Optional.empty();

        private Optional<String> fedMetadataXml = Optional.empty();

        private Optional<String> iconUrl = Optional.empty();

        private Optional<List<String>> prevThumbprints = Optional.empty();

        private Optional<ConnectionSetUserRootAttributesEnum> setUserRootAttributes = Optional.empty();

        private Optional<ConnectionShouldTrustEmailVerifiedConnectionEnum> shouldTrustEmailVerifiedConnection =
                Optional.empty();

        private Optional<String> signInEndpoint = Optional.empty();

        private Optional<String> tenantDomain = Optional.empty();

        private Optional<List<String>> thumbprints = Optional.empty();

        private OptionalNullable<Map<String, OptionalNullable<ConnectionUpstreamAdditionalProperties>>> upstreamParams =
                OptionalNullable.absent();

        private Optional<String> userIdAttribute = Optional.empty();

        @JsonAnySetter
        private Map<String, Object> additionalProperties = new HashMap<>();

        private Builder() {}

        public Builder from(ConnectionOptionsAdfs other) {
            nonPersistentAttrs(other.getNonPersistentAttrs());
            adfsServer(other.getAdfsServer());
            domainAliases(other.getDomainAliases());
            entityId(other.getEntityId());
            fedMetadataXml(other.getFedMetadataXml());
            iconUrl(other.getIconUrl());
            prevThumbprints(other.getPrevThumbprints());
            setUserRootAttributes(other.getSetUserRootAttributes());
            shouldTrustEmailVerifiedConnection(other.getShouldTrustEmailVerifiedConnection());
            signInEndpoint(other.getSignInEndpoint());
            tenantDomain(other.getTenantDomain());
            thumbprints(other.getThumbprints());
            upstreamParams(other.getUpstreamParams());
            userIdAttribute(other.getUserIdAttribute());
            return this;
        }

        @JsonSetter(value = "non_persistent_attrs", nulls = Nulls.SKIP)
        public Builder nonPersistentAttrs(Optional<List<String>> nonPersistentAttrs) {
            this.nonPersistentAttrs = nonPersistentAttrs;
            return this;
        }

        public Builder nonPersistentAttrs(List<String> nonPersistentAttrs) {
            this.nonPersistentAttrs = Optional.ofNullable(nonPersistentAttrs);
            return this;
        }

        /**
         * <p>ADFS federation metadata host or XML URL used to discover WS-Fed endpoints and certificates. Errors if adfs_server and fedMetadataXml are both absent.</p>
         */
        @JsonSetter(value = "adfs_server", nulls = Nulls.SKIP)
        public Builder adfsServer(Optional<String> adfsServer) {
            this.adfsServer = adfsServer;
            return this;
        }

        public Builder adfsServer(String adfsServer) {
            this.adfsServer = Optional.ofNullable(adfsServer);
            return this;
        }

        @JsonSetter(value = "domain_aliases", nulls = Nulls.SKIP)
        public Builder domainAliases(Optional<List<String>> domainAliases) {
            this.domainAliases = domainAliases;
            return this;
        }

        public Builder domainAliases(List<String> domainAliases) {
            this.domainAliases = Optional.ofNullable(domainAliases);
            return this;
        }

        /**
         * <p>The entity identifier (Issuer) for the ADFS Service Provider. When not provided, defaults to 'urn:auth0:{tenant}:{connection}'.</p>
         */
        @JsonSetter(value = "entityId", nulls = Nulls.SKIP)
        public Builder entityId(Optional<String> entityId) {
            this.entityId = entityId;
            return this;
        }

        public Builder entityId(String entityId) {
            this.entityId = Optional.ofNullable(entityId);
            return this;
        }

        @JsonSetter(value = "fedMetadataXml", nulls = Nulls.SKIP)
        public Builder fedMetadataXml(Optional<String> fedMetadataXml) {
            this.fedMetadataXml = fedMetadataXml;
            return this;
        }

        public Builder fedMetadataXml(String fedMetadataXml) {
            this.fedMetadataXml = Optional.ofNullable(fedMetadataXml);
            return this;
        }

        @JsonSetter(value = "icon_url", nulls = Nulls.SKIP)
        public Builder iconUrl(Optional<String> iconUrl) {
            this.iconUrl = iconUrl;
            return this;
        }

        public Builder iconUrl(String iconUrl) {
            this.iconUrl = Optional.ofNullable(iconUrl);
            return this;
        }

        @JsonSetter(value = "prev_thumbprints", nulls = Nulls.SKIP)
        public Builder prevThumbprints(Optional<List<String>> prevThumbprints) {
            this.prevThumbprints = prevThumbprints;
            return this;
        }

        public Builder prevThumbprints(List<String> prevThumbprints) {
            this.prevThumbprints = Optional.ofNullable(prevThumbprints);
            return this;
        }

        @JsonSetter(value = "set_user_root_attributes", nulls = Nulls.SKIP)
        public Builder setUserRootAttributes(Optional<ConnectionSetUserRootAttributesEnum> setUserRootAttributes) {
            this.setUserRootAttributes = setUserRootAttributes;
            return this;
        }

        public Builder setUserRootAttributes(ConnectionSetUserRootAttributesEnum setUserRootAttributes) {
            this.setUserRootAttributes = Optional.ofNullable(setUserRootAttributes);
            return this;
        }

        @JsonSetter(value = "should_trust_email_verified_connection", nulls = Nulls.SKIP)
        public Builder shouldTrustEmailVerifiedConnection(
                Optional<ConnectionShouldTrustEmailVerifiedConnectionEnum> shouldTrustEmailVerifiedConnection) {
            this.shouldTrustEmailVerifiedConnection = shouldTrustEmailVerifiedConnection;
            return this;
        }

        public Builder shouldTrustEmailVerifiedConnection(
                ConnectionShouldTrustEmailVerifiedConnectionEnum shouldTrustEmailVerifiedConnection) {
            this.shouldTrustEmailVerifiedConnection = Optional.ofNullable(shouldTrustEmailVerifiedConnection);
            return this;
        }

        @JsonSetter(value = "signInEndpoint", nulls = Nulls.SKIP)
        public Builder signInEndpoint(Optional<String> signInEndpoint) {
            this.signInEndpoint = signInEndpoint;
            return this;
        }

        public Builder signInEndpoint(String signInEndpoint) {
            this.signInEndpoint = Optional.ofNullable(signInEndpoint);
            return this;
        }

        @JsonSetter(value = "tenant_domain", nulls = Nulls.SKIP)
        public Builder tenantDomain(Optional<String> tenantDomain) {
            this.tenantDomain = tenantDomain;
            return this;
        }

        public Builder tenantDomain(String tenantDomain) {
            this.tenantDomain = Optional.ofNullable(tenantDomain);
            return this;
        }

        @JsonSetter(value = "thumbprints", nulls = Nulls.SKIP)
        public Builder thumbprints(Optional<List<String>> thumbprints) {
            this.thumbprints = thumbprints;
            return this;
        }

        public Builder thumbprints(List<String> thumbprints) {
            this.thumbprints = Optional.ofNullable(thumbprints);
            return this;
        }

        @JsonSetter(value = "upstream_params", nulls = Nulls.SKIP)
        public Builder upstreamParams(
                @Nullable
                        OptionalNullable<Map<String, OptionalNullable<ConnectionUpstreamAdditionalProperties>>>
                                upstreamParams) {
            this.upstreamParams = upstreamParams;
            return this;
        }

        public Builder upstreamParams(
                Map<String, OptionalNullable<ConnectionUpstreamAdditionalProperties>> upstreamParams) {
            this.upstreamParams = OptionalNullable.of(upstreamParams);
            return this;
        }

        public Builder upstreamParams(
                Optional<Map<String, OptionalNullable<ConnectionUpstreamAdditionalProperties>>> upstreamParams) {
            if (upstreamParams.isPresent()) {
                this.upstreamParams = OptionalNullable.of(upstreamParams.get());
            } else {
                this.upstreamParams = OptionalNullable.absent();
            }
            return this;
        }

        public Builder upstreamParams(
                com.auth0.client.mgmt.core.Nullable<
                                Map<String, OptionalNullable<ConnectionUpstreamAdditionalProperties>>>
                        upstreamParams) {
            if (upstreamParams.isNull()) {
                this.upstreamParams = OptionalNullable.ofNull();
            } else if (upstreamParams.isEmpty()) {
                this.upstreamParams = OptionalNullable.absent();
            } else {
                this.upstreamParams = OptionalNullable.of(upstreamParams.get());
            }
            return this;
        }

        /**
         * <p>Custom ADFS claim to use as the unique user identifier. When provided, this attribute is prepended to the default user_id mapping list with highest priority. Accepts a string (single ADFS claim name).</p>
         */
        @JsonSetter(value = "user_id_attribute", nulls = Nulls.SKIP)
        public Builder userIdAttribute(Optional<String> userIdAttribute) {
            this.userIdAttribute = userIdAttribute;
            return this;
        }

        public Builder userIdAttribute(String userIdAttribute) {
            this.userIdAttribute = Optional.ofNullable(userIdAttribute);
            return this;
        }

        public ConnectionOptionsAdfs build() {
            return new ConnectionOptionsAdfs(
                    nonPersistentAttrs,
                    adfsServer,
                    domainAliases,
                    entityId,
                    fedMetadataXml,
                    iconUrl,
                    prevThumbprints,
                    setUserRootAttributes,
                    shouldTrustEmailVerifiedConnection,
                    signInEndpoint,
                    tenantDomain,
                    thumbprints,
                    upstreamParams,
                    userIdAttribute,
                    additionalProperties);
        }
    }
}
