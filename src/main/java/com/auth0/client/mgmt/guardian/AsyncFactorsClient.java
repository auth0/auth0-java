/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.auth0.client.mgmt.guardian;

import com.auth0.client.mgmt.core.ClientOptions;
import com.auth0.client.mgmt.core.RequestOptions;
import com.auth0.client.mgmt.core.Suppliers;
import com.auth0.client.mgmt.guardian.factors.AsyncPhoneClient;
import com.auth0.client.mgmt.guardian.factors.AsyncPushNotificationClient;
import com.auth0.client.mgmt.guardian.factors.AsyncSmsClient;
import com.auth0.client.mgmt.guardian.factors.duo.AsyncDuoClient;
import com.auth0.client.mgmt.guardian.types.SetGuardianFactorRequestContent;
import com.auth0.client.mgmt.types.GuardianFactor;
import com.auth0.client.mgmt.types.GuardianFactorNameEnum;
import com.auth0.client.mgmt.types.SetGuardianFactorResponseContent;
import java.util.List;
import java.util.concurrent.CompletableFuture;
import java.util.function.Supplier;

public class AsyncFactorsClient {
    protected final ClientOptions clientOptions;

    private final AsyncRawFactorsClient rawClient;

    protected final Supplier<AsyncPhoneClient> phoneClient;

    protected final Supplier<AsyncPushNotificationClient> pushNotificationClient;

    protected final Supplier<AsyncSmsClient> smsClient;

    protected final Supplier<AsyncDuoClient> duoClient;

    public AsyncFactorsClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new AsyncRawFactorsClient(clientOptions);
        this.phoneClient = Suppliers.memoize(() -> new AsyncPhoneClient(clientOptions));
        this.pushNotificationClient = Suppliers.memoize(() -> new AsyncPushNotificationClient(clientOptions));
        this.smsClient = Suppliers.memoize(() -> new AsyncSmsClient(clientOptions));
        this.duoClient = Suppliers.memoize(() -> new AsyncDuoClient(clientOptions));
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public AsyncRawFactorsClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * Retrieve details of all &lt;a href=&quot;https://auth0.com/docs/secure/multi-factor-authentication/multi-factor-authentication-factors&quot;&gt;multi-factor authentication factors&lt;/a&gt; associated with your tenant.
     */
    public CompletableFuture<List<GuardianFactor>> list() {
        return this.rawClient.list().thenApply(response -> response.body());
    }

    /**
     * Retrieve details of all &lt;a href=&quot;https://auth0.com/docs/secure/multi-factor-authentication/multi-factor-authentication-factors&quot;&gt;multi-factor authentication factors&lt;/a&gt; associated with your tenant.
     */
    public CompletableFuture<List<GuardianFactor>> list(RequestOptions requestOptions) {
        return this.rawClient.list(requestOptions).thenApply(response -> response.body());
    }

    /**
     * Update the status (i.e., enabled or disabled) of a specific multi-factor authentication factor.
     */
    public CompletableFuture<SetGuardianFactorResponseContent> set(
            GuardianFactorNameEnum name, SetGuardianFactorRequestContent request) {
        return this.rawClient.set(name, request).thenApply(response -> response.body());
    }

    /**
     * Update the status (i.e., enabled or disabled) of a specific multi-factor authentication factor.
     */
    public CompletableFuture<SetGuardianFactorResponseContent> set(
            GuardianFactorNameEnum name, SetGuardianFactorRequestContent request, RequestOptions requestOptions) {
        return this.rawClient.set(name, request, requestOptions).thenApply(response -> response.body());
    }

    public AsyncPhoneClient phone() {
        return this.phoneClient.get();
    }

    public AsyncPushNotificationClient pushNotification() {
        return this.pushNotificationClient.get();
    }

    public AsyncSmsClient sms() {
        return this.smsClient.get();
    }

    public AsyncDuoClient duo() {
        return this.duoClient.get();
    }
}
