/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.auth0.client.mgmt.guardian;

import com.auth0.client.mgmt.core.ClientOptions;
import com.auth0.client.mgmt.core.RequestOptions;
import com.auth0.client.mgmt.core.Suppliers;
import com.auth0.client.mgmt.guardian.factors.PhoneClient;
import com.auth0.client.mgmt.guardian.factors.PushNotificationClient;
import com.auth0.client.mgmt.guardian.factors.SmsClient;
import com.auth0.client.mgmt.guardian.factors.duo.DuoClient;
import com.auth0.client.mgmt.guardian.types.SetGuardianFactorRequestContent;
import com.auth0.client.mgmt.types.GuardianFactor;
import com.auth0.client.mgmt.types.GuardianFactorNameEnum;
import com.auth0.client.mgmt.types.SetGuardianFactorResponseContent;
import java.util.List;
import java.util.function.Supplier;

public class FactorsClient {
    protected final ClientOptions clientOptions;

    private final RawFactorsClient rawClient;

    protected final Supplier<PhoneClient> phoneClient;

    protected final Supplier<PushNotificationClient> pushNotificationClient;

    protected final Supplier<SmsClient> smsClient;

    protected final Supplier<DuoClient> duoClient;

    public FactorsClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new RawFactorsClient(clientOptions);
        this.phoneClient = Suppliers.memoize(() -> new PhoneClient(clientOptions));
        this.pushNotificationClient = Suppliers.memoize(() -> new PushNotificationClient(clientOptions));
        this.smsClient = Suppliers.memoize(() -> new SmsClient(clientOptions));
        this.duoClient = Suppliers.memoize(() -> new DuoClient(clientOptions));
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public RawFactorsClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * Retrieve details of all <a href="https://auth0.com/docs/secure/multi-factor-authentication/multi-factor-authentication-factors">multi-factor authentication factors</a> associated with your tenant.
     */
    public List<GuardianFactor> list() {
        return this.rawClient.list().body();
    }

    /**
     * Retrieve details of all <a href="https://auth0.com/docs/secure/multi-factor-authentication/multi-factor-authentication-factors">multi-factor authentication factors</a> associated with your tenant.
     */
    public List<GuardianFactor> list(RequestOptions requestOptions) {
        return this.rawClient.list(requestOptions).body();
    }

    /**
     * Update the status (i.e., enabled or disabled) of a specific multi-factor authentication factor.
     */
    public SetGuardianFactorResponseContent set(GuardianFactorNameEnum name, SetGuardianFactorRequestContent request) {
        return this.rawClient.set(name, request).body();
    }

    /**
     * Update the status (i.e., enabled or disabled) of a specific multi-factor authentication factor.
     */
    public SetGuardianFactorResponseContent set(
            GuardianFactorNameEnum name, SetGuardianFactorRequestContent request, RequestOptions requestOptions) {
        return this.rawClient.set(name, request, requestOptions).body();
    }

    public PhoneClient phone() {
        return this.phoneClient.get();
    }

    public PushNotificationClient pushNotification() {
        return this.pushNotificationClient.get();
    }

    public SmsClient sms() {
        return this.smsClient.get();
    }

    public DuoClient duo() {
        return this.duoClient.get();
    }
}
